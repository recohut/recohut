<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="alternate" type="application/rss+xml" href="/recohut/blog/rss.xml" title="AI RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/recohut/blog/atom.xml" title="AI Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-rh="true">Processes | AI</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.recohut.com/recohut/docs/concept-basics/processes"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Processes | AI"><meta data-rh="true" name="description" content="Retrieval and Ranking"><meta data-rh="true" property="og:description" content="Retrieval and Ranking"><link data-rh="true" rel="icon" href="/recohut/img/logo.svg"><link data-rh="true" rel="canonical" href="https://docs.recohut.com/recohut/docs/concept-basics/processes"><link data-rh="true" rel="alternate" href="https://docs.recohut.com/recohut/docs/concept-basics/processes" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.recohut.com/recohut/docs/concept-basics/processes" hreflang="x-default"><link rel="stylesheet" href="/recohut/assets/css/styles.fbf22338.css">
<link rel="preload" href="/recohut/assets/js/runtime~main.eaac3c3e.js" as="script">
<link rel="preload" href="/recohut/assets/js/main.f428c2c4.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/recohut/"><div class="navbar__logo"><img src="/recohut/img/logo.svg" alt="Recohut Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/recohut/img/logo.svg" alt="Recohut Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Recohut</b></a><a class="navbar__item navbar__link navbar__link--active" href="/recohut/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/recohut/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/sparsh-ai/recohut" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/recohut/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/recohut/docs/concept-basics/">Concept - Basics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Concept - Basics&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/recohut/docs/concept-basics/challenges">Challenges</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/recohut/docs/concept-basics/collaborative-filtering">Collaborative Filtering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/recohut/docs/concept-basics/evaluation">Evaluation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/recohut/docs/concept-basics/implicit-feedback">User Feedback</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/recohut/docs/concept-basics/processes">Processes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/recohut/docs/concept-basics/session-based-recommenders">Session-based Recommenders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/recohut/docs/concept-basics/tasks">Tasks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/recohut/docs/concept-basics/types-of-recommender-systems">Types of Recommender Systems</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/recohut/docs/concept-extras/">Concept - Extras</a><button aria-label="Toggle the collapsible sidebar category &#x27;Concept - Extras&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/recohut/docs/models/">Models</a><button aria-label="Toggle the collapsible sidebar category &#x27;Models&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/recohut/docs/tutorials/amazon-personalize">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/recohut/docs/snippets/python-snippets">Snippets</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/recohut/docs/tools/">Tools</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tools&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/recohut/docs/datasets">Datasets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/recohut/docs/notebooks">Notebooks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/recohut/docs/projects">Projects</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/recohut/">üè†</a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/recohut/docs/concept-basics/">Concept - Basics</a></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/recohut/docs/concept-basics/processes">Processes</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Processes</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="retrieval-and-ranking">Retrieval and Ranking<a class="hash-link" href="#retrieval-and-ranking" title="Direct link to heading">‚Äã</a></h2><p>Recommender systems aim to filter information for users, which has become one kind of fundamental service in today‚Äôs information platforms. Generally, from the perspective of real-world application, the recommender systems contain two stages, matching and ranking. Recently, deep learning has become the state-of-the-art solution of recommender systems in both two stages.</p><p>The matching (a.k.a. retrieval) stage, of which the mainstream methods are collaborative filtering, learns user interests from historical behaviors, deep neural networks methods, or even graph neural networks, achieve promising performance. It is responsible for selecting an initial set of hundreds of candidates from all possible candidates. The main objective of this model is to efficiently weed out all candidates that the user is not interested in. Because the retrieval model may be dealing with millions of candidates, it has to be computationally efficient.</p><p>The ranking stage, which is also known as click-through rate (CTR) prediction, deep learning-based models such as DeepFM with multilayer perceptron, xDeepFM with compressed interaction network, DIN with attention mechanisms, etc., are demonstrated effective in learning from complex features of users and items. The ranking stage takes the outputs of the retrieval model and fine-tunes them to select the best possible handful of recommendations. Its task is to narrow down the set of items the user may be interested in to a shortlist of likely candidates.</p><p><img loading="lazy" alt="Untitled" src="/recohut/assets/images/content-concepts-raw-processes-untitled-3f52a0b52d6f11e634613c5fc7e863fb.png" width="986" height="402"></p><p>Candidate generation is a fast‚Äîbut coarse‚Äîapproach to get (hundreds of) item candidates from millions of items. We trade off precision for efficiency to reduce the search space (e.g., from 100 million to 1,000 candidates, a 99.999% reduction). This is usually done via metadata-based filters (e.g., category, brand) or k-nearest neighbors.</p><p>Ranking is a slower‚Äîbut more precise‚Äîapproach to sort and select top recommendation candidates. We have leeway to include features that might not have been feasible in the candidate generation step. Such features include user persona (e.g., demographics, price propensity), item metadata (e.g., attributes, engagement statistics), cross features (e.g., interaction between each feature pair), and media embeddings.</p><p><img loading="lazy" alt="Untitled" src="/recohut/assets/images/content-concepts-raw-processes-untitled-1-ad775e66223fad73905e03eca2914e22.png" width="883" height="386"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="retrieval">Retrieval<a class="hash-link" href="#retrieval" title="Direct link to heading">‚Äã</a></h3><p>Retrieval models are often composed of two sub-models:</p><ol><li>A query model computing the query representation (normally a fixed-dimensionality embedding vector) using query features.</li><li>A candidate model computing the candidate representation (an equally-sized vector) using the candidate features</li></ol><p>The outputs of the two models are then multiplied together to give a query-candidate affinity score, with higher scores expressing a better match between the candidate and the query.</p><ol><li>The representation stage creates a vector representation of all 3 kinds of data - users, items and context. It can be done offline.</li><li>The retrieval stage is responsible for selecting an initial set of hundreds of candidates from all possible candidates. The main objective of this model is to efficiently weed out all candidates that the user is not interested in. Because the retrieval model may be dealing with millions of candidates, it has to be computationally efficient.</li></ol><p>The system starts from a potentially huge corpus and generates a much smaller subset of candidates. For example, the candidate generator in YouTube reduces billions of videos down to hundreds or thousands. The model needs to evaluate queries quickly given the enormous size of the corpus. A given model may provide multiple candidate generators, each nominating a different subset of candidates.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="ranking">Ranking<a class="hash-link" href="#ranking" title="Direct link to heading">‚Äã</a></h3><p>Ranking can be framed as either a classification or learning to rank problem. As a classification problem, we can score candidates based on probability of click or purchase. Logistic regression with crossed features is simple to implement and a difficult baseline to beat. Decision trees are also commonly used. As a learning to rank problem, commonly used algorithms include¬†<a href="https://www.microsoft.com/en-us/research/publication/ranking-boosting-and-model-adaptation/" target="_blank" rel="noopener noreferrer">LambdaMart</a>,¬†<a href="https://arxiv.org/abs/1603.02754" target="_blank" rel="noopener noreferrer">XGBoost</a>, and¬†<a href="https://papers.nips.cc/paper/2017/hash/6449f44a102fde848669bdd9eb6b76fa-Abstract.html" target="_blank" rel="noopener noreferrer">LightGBM</a>. Neural networks are also gaining adoption, thanks to¬†<a href="https://eugeneyan.com/writing/notes-from-sparkai-summit-application-agnostic/#scaling-up-deep-learning-by-scaling-down-24th-june" target="_blank" rel="noopener noreferrer">gains in model efficiency</a>¬†via distillation, pruning, quantization, etc.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="beyond-retrieval-and-ranking">Beyond Retrieval and Ranking<a class="hash-link" href="#beyond-retrieval-and-ranking" title="Direct link to heading">‚Äã</a></h2><p>The following framework represent an advanced version of the retrieval ranking framework.</p><p><img loading="lazy" alt="[source: Moving Beyond Recommender Models](https://youtu.be/5qjiY-kLwFY?list=PLL0J-WXH0lL6gV50tYSkJPv-irCkA9ods&amp;amp;t=533)" src="/recohut/assets/images/content-concepts-raw-processes-untitled-2-d882169676e8f76267aa09fb8df8b35b.png" width="1091" height="428"></p><p><a href="https://youtu.be/5qjiY-kLwFY?list=PLL0J-WXH0lL6gV50tYSkJPv-irCkA9ods&amp;t=533" target="_blank" rel="noopener noreferrer">source: Moving Beyond Recommender Models</a></p><p><strong>The offline environment</strong>¬†largely hosts batch processes such as model training (e.g., representation learning, ranking), creating embeddings for catalog items, and building an approximate nearest neighbors (ANN) index or knowledge graph to find similar items. It may also include loading item and user metadata into a feature store that is used to augment input data during ranking.</p><p><strong>The online environment</strong>¬†then uses the artifacts generated in the offline environment (e.g., ANN indices, knowledge graphs, models, feature stores) to serve individual requests. A typical approach is converting the input item or search query into an embedding, followed by candidate retrieval and ranking. There are also other preprocessing steps (e.g., standardizing queries, tokenization, spell check) and post-processing steps (e.g., filtering undesirable items, business logic) though we won‚Äôt be discussing them in this writeup.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="prefiltering-splitting-and-hyperparameter-tuning-process">Prefiltering, Splitting and Hyperparameter Tuning Process<a class="hash-link" href="#prefiltering-splitting-and-hyperparameter-tuning-process" title="Direct link to heading">‚Äã</a></h2><p><img loading="lazy" alt="Source - Elliot." src="/recohut/assets/images/content-concepts-raw-processes-untitled-3-8cba7b3931ca2a267bd564bb500c165c.png" width="1228" height="573"></p><p>Source - Elliot.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="industrial-examples">Industrial Examples<a class="hash-link" href="#industrial-examples" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="careerbuilder">CareerBuilder<a class="hash-link" href="#careerbuilder" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="The Architecture of the two-stage online recruitment recommender system. source: [https://arxiv.org/pdf/2107.00221.pdf](https://arxiv.org/pdf/2107.00221.pdf)" src="/recohut/assets/images/content-concepts-raw-processes-untitled-4-c0b23bc9a085b15fef652b8333b17b55.png" width="859" height="479"></p><p>The Architecture of the two-stage online recruitment recommender system. source: <a href="https://arxiv.org/pdf/2107.00221.pdf" target="_blank" rel="noopener noreferrer">https://arxiv.org/pdf/2107.00221.pdf</a></p><p><img loading="lazy" alt="Fused-embedding model with vectors from deep learning embedding model (DLEM), skill-job information graph, and geolocation calculator." src="/recohut/assets/images/content-concepts-raw-processes-untitled-5-c4e55ee211e5242b8ae06a60ea30e95f.png" width="509" height="602"></p><p>Fused-embedding model with vectors from deep learning embedding model (DLEM), skill-job information graph, and geolocation calculator.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="weibo">Weibo<a class="hash-link" href="#weibo" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="[Weibo](https://youtu.be/WQ520rWgd9A) stack for real-time recsys" src="/recohut/assets/images/content-concepts-raw-processes-untitled-6-94bb57017f3dc7778791be1f9eabfaf2.png" width="892" height="407"></p><p><a href="https://youtu.be/WQ520rWgd9A" target="_blank" rel="noopener noreferrer">Weibo</a> stack for real-time recsys</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="levis">Levis<a class="hash-link" href="#levis" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="Levi&amp;#39;s" src="/recohut/assets/images/content-concepts-raw-processes-untitled-7-11842bfbcc2831e88873a69b960a2cfd.png" width="1182" height="384"></p><p>Levi&#x27;s</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="brandless">Brandless<a class="hash-link" href="#brandless" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="Brandless" src="/recohut/assets/images/content-concepts-raw-processes-untitled-8-be47c0b7488944f29a1d730c5f48bf64.png" width="1999" height="1090"></p><p>Brandless</p><p><img loading="lazy" alt="End-to-end machine learning workflow at Brandless." src="/recohut/assets/images/content-concepts-raw-processes-untitled-9-fc1ffdc43c0026cbf4fb1cd5ae2c1324.png" width="1999" height="787"></p><p>End-to-end machine learning workflow at Brandless.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="alibaba-retrieval">Alibaba Retrieval<a class="hash-link" href="#alibaba-retrieval" title="Direct link to heading">‚Äã</a></h3><p>In <a href="https://arxiv.org/abs/1803.02349" target="_blank" rel="noopener noreferrer">building item embeddings for candidate retrieval</a>, Alibaba shared the process. In the offline environment, session-level user-item interactions are mined to construct a weighted, bidirectional item graph. Then, item sequences are generated via random walks on the graph. Item embeddings are then learned via representation learning (i.e., word2vec skip-gram), doing away with the need for labels. Finally, with the item embeddings, they get the nearest neighbor for each item and store it in their item-to-item (i2) similarity map (i.e., a key-value store).</p><p><img loading="lazy" alt="Alibaba&amp;#39;s design for candidate retrieval in Taobao via item embeddings and ANN." src="/recohut/assets/images/content-concepts-raw-processes-untitled-10-c0f436371313043ef914091c83df1945.png" width="1000" height="550"></p><p>Alibaba&#x27;s design for candidate retrieval in Taobao via item embeddings and ANN.</p><p>In the¬†<em>online</em>¬†environment, when the user launches the app, the¬†<a href="https://taobao.com/" target="_blank" rel="noopener noreferrer">Taobao</a>¬†Personalization Platform (TPP) starts by getting the latest items that the user interacted with (e.g., click, like, purchase). These items are then used to¬†<em>retrieve</em>¬†candidates from the i2i similarity map. The candidates are then passed to the Ranking Service Platform (RSP) for¬†<em>ranking</em>¬†via a deep neural network, before being displayed to the user.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="alibaba-ranking">Alibaba Ranking<a class="hash-link" href="#alibaba-ranking" title="Direct link to heading">‚Äã</a></h3><p><strong>Alibaba also shared a slightly different example where they apply a¬†<a href="https://arxiv.org/abs/2005.12002" target="_blank" rel="noopener noreferrer">graph network for ranking</a>.</strong>¬†In the¬†<em>offline</em>¬†environment, they combine an existing knowledge graph (<code>G</code>), user behavior (e.g., impressed but not clicked, clicked), and item metadata to create an adaptive knowledge graph (<code>G_ui</code>). This is then merged with user metadata (e.g., demographics, user-item preferences) to train the¬†<em>ranking</em>¬†model (Adaptive Target-Behavior Relational Graph Network, ATBRN).</p><p><img loading="lazy" alt="Alibaba&amp;#39;s design for ranking in Taobao via a graph network (ATBRN)." src="/recohut/assets/images/content-concepts-raw-processes-untitled-11-d8abe54f8b899dc1330e9020de368013.png" width="1000" height="880"></p><p>Alibaba&#x27;s design for ranking in Taobao via a graph network (ATBRN).</p><p>In the online environment, given a user request, the candidate generator will retrieve a set of candidates and the user ID, before passing them to the Real-Time Prediction (RTP) platform. RTP then queries the knowledge graph with the item IDS and fetches item and user metadata from the feature stores. The graph representations, item metadata, and user metadata is then fed into the ranking model (i.e., ATBRN) to predict the probability of click on each candidate item. The candidates are then reordered based on probability and displayed to the user.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="jd">JD<a class="hash-link" href="#jd" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="[JD.com](https://arxiv.org/pdf/2103.12982v1.pdf)" src="/recohut/assets/images/content-concepts-raw-processes-untitled-12-16c17acdf1ed4e231b37c8a6bec22a87.png" width="779" height="605"></p><p><a href="https://arxiv.org/pdf/2103.12982v1.pdf" target="_blank" rel="noopener noreferrer">JD.com</a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="antuit">Antuit<a class="hash-link" href="#antuit" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="antuit.ai" src="/recohut/assets/images/content-concepts-raw-processes-untitled-13-f010dd46d607f507c1103e43e2599147.png" width="1366" height="768"></p><p>antuit.ai</p><p><img loading="lazy" alt="/img/content-concepts-raw-processes-untitled-14.png" src="/recohut/assets/images/content-concepts-raw-processes-untitled-14-ea35069fb9f04e164b70acc91a1f1954.png" width="1366" height="768"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="tools-and-service-processes">Tools and Service Processes<a class="hash-link" href="#tools-and-service-processes" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="merv-personalization-engine-for-model-serving">Merv Personalization Engine for Model Serving<a class="hash-link" href="#merv-personalization-engine-for-model-serving" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="Merv" src="/recohut/assets/images/content-concepts-raw-processes-untitled-15-f85a097e23379c69ac752b829d696e2d.png" width="1138" height="552"></p><p>Merv</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="microsoft-recommender-toolkit">Microsoft Recommender Toolkit<a class="hash-link" href="#microsoft-recommender-toolkit" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="Microsoft recommenders toolkit" src="/recohut/assets/images/content-concepts-raw-processes-untitled-16-d4cfae0aeb9ad332df66c0aefd2eb25d.png" width="949" height="450"></p><p>Microsoft recommenders toolkit</p><p><img loading="lazy" alt="/img/content-concepts-raw-processes-untitled-17.png" src="/recohut/assets/images/content-concepts-raw-processes-untitled-17-a52c425f91a44b3908ffcdd267d1823a.png" width="1180" height="465"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="openrec">OpenRec<a class="hash-link" href="#openrec" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="OpenRec" src="/recohut/assets/images/content-concepts-raw-processes-untitled-18-d43afd6c5c9dd5522fcf2000c6ae35a6.png" width="874" height="466"></p><p>OpenRec</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="amazon-personalize">Amazon Personalize<a class="hash-link" href="#amazon-personalize" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="Amazon Personalize" src="/recohut/assets/images/content-concepts-raw-processes-untitled-19-bbb5727247011c52a126ddc2f8de6135.png" width="1232" height="402"></p><p>Amazon Personalize</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="azure-personalizer">Azure Personalizer<a class="hash-link" href="#azure-personalizer" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="Azure Personalizer System Design" src="/recohut/assets/images/content-concepts-raw-processes-untitled-20-b0966be33ec9922e5f7f503f9d860308.png" width="1624" height="881"></p><p>Azure Personalizer System Design</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="aws-sagemaker">AWS SageMaker<a class="hash-link" href="#aws-sagemaker" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="RL system design in AWS SageMaker" src="/recohut/assets/images/content-concepts-raw-processes-untitled-21-0e07010db55abe198ad946fd3374baff.png" width="1000" height="486"></p><p>RL system design in AWS SageMaker</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="nvidia-merlin">Nvidia Merlin<a class="hash-link" href="#nvidia-merlin" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="/img/content-concepts-raw-processes-untitled-22.png" src="/recohut/assets/images/content-concepts-raw-processes-untitled-22-72ce5f1a35b17b1f258151d077e546d5.png" width="954" height="533"></p><p><img loading="lazy" alt="Nvidia Merlin" src="/recohut/assets/images/content-concepts-raw-processes-untitled-23-975ff9cdb1b1174566cf765de0610d02.png" width="625" height="418"></p><p>Nvidia Merlin</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="google-recommendation">Google Recommendation<a class="hash-link" href="#google-recommendation" title="Direct link to heading">‚Äã</a></h3><p><img src="https://cloudx-bricks-prod-bucket.storage.googleapis.com/6a0d4afb1778e55d54cb7d66382a4b25f8748a50a93f3c3403d2a835aa166f3d.svg" alt="[Google recommendations](https://cloud.google.com/recommendations)"></p><p><a href="https://cloud.google.com/recommendations" target="_blank" rel="noopener noreferrer">Google recommendations</a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="recombee">Recombee<a class="hash-link" href="#recombee" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="Recombee" src="/recohut/assets/images/content-concepts-raw-processes-untitled-24-f90bc3d730d440d2955c214b04442e09.png" width="1366" height="768"></p><p>Recombee</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="azure-cloud">Azure Cloud<a class="hash-link" href="#azure-cloud" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="/img/content-concepts-raw-processes-untitled-25.png" src="/recohut/assets/images/content-concepts-raw-processes-untitled-25-77f478892fc30e51f198e5c46b4421e9.png" width="1148" height="542"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="abacus">Abacus<a class="hash-link" href="#abacus" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="Abacus AI" src="/recohut/assets/images/content-concepts-raw-processes-untitled-26-9eee6293c9e89c32e1057cbcf822f141.png" width="1366" height="656"></p><p>Abacus AI</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="classical-processes">Classical Processes<a class="hash-link" href="#classical-processes" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="machine-learning-processes">Machine Learning Processes<a class="hash-link" href="#machine-learning-processes" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="/img/content-concepts-raw-processes-untitled-27.png" src="/recohut/assets/images/content-concepts-raw-processes-untitled-27-9b4d7f43f458b53f060007fce98ffa77.png" width="948" height="182"></p><p><img loading="lazy" alt="/img/content-concepts-raw-processes-untitled-28.png" src="/recohut/assets/images/content-concepts-raw-processes-untitled-28-90bda570b4e954852c4d8e4b3cca318d.png" width="700" height="239"></p><p><img loading="lazy" alt="Influential factors of DL-based models." src="/recohut/assets/images/content-concepts-raw-processes-untitled-29-0dd9c02081060a56464f5dcfd35128a5.png" width="1247" height="295"></p><p>Influential factors of DL-based models.</p><p><img loading="lazy" alt="/img/content-concepts-raw-processes-untitled-30.png" src="/recohut/assets/images/content-concepts-raw-processes-untitled-30-5cc994bc5433fdfd4246d9242e654cdd.png" width="619" height="311"></p><p><img loading="lazy" alt="Untitled" src="/recohut/assets/images/content-concepts-raw-processes-untitled-31-b451abc9529ab9c6fe74a2cc728aa865.png" width="969" height="337"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="ecommerce-process">eCommerce Process<a class="hash-link" href="#ecommerce-process" title="Direct link to heading">‚Äã</a></h3><p>Data processing from events collected on the browser (shopper clicking on a product in 1), to a carousel of recommendations served on the PDP, 6. Raw data (2) is sent to a table (3), and stored raw in an append-only fashion. From there, data is transformed in usable format for training (for example, exploding important properties in a devoted table, 4), and a model is then trained (5) to serve recommendations (6). <a href="https://arxiv.org/pdf/2107.07346v1.pdf" target="_blank" rel="noopener noreferrer">source</a>.</p><p><img loading="lazy" alt="/img/content-concepts-raw-processes-untitled-32.png" src="/recohut/assets/images/content-concepts-raw-processes-untitled-32-945bb18be05de68bb0b17409bf923d36.png" width="1154" height="560"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="ctr-process">CTR Process<a class="hash-link" href="#ctr-process" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="/img/content-concepts-raw-processes-untitled-33.png" src="/recohut/assets/images/content-concepts-raw-processes-untitled-33-69e695dcff7f47c75ca425387899e9fb.png" width="682" height="443"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="real-time-data-capturing-process">Real-time Data Capturing Process<a class="hash-link" href="#real-time-data-capturing-process" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="/img/content-concepts-raw-processes-untitled-34.png" src="/recohut/assets/images/content-concepts-raw-processes-untitled-34-3cb28b8dcfd8b2ab27e8cfa83f52308c.png" width="1075" height="581"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="large-scale-pipeline">Large-scale Pipeline<a class="hash-link" href="#large-scale-pipeline" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="Modern rec pipelines" src="/recohut/assets/images/content-concepts-raw-processes-untitled-35-1bfab206de482f1420c1e02d2f207894.png" width="730" height="450"></p><p>Modern rec pipelines</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="drivetrain-approach">Drivetrain Approach<a class="hash-link" href="#drivetrain-approach" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="Drivetrain approach" src="/recohut/assets/images/content-concepts-raw-processes-untitled-36-7a3ac6e91d73af74593d5dddab3f6212.png" width="580" height="407"></p><p>Drivetrain approach</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="standard-recommendation-modeling">Standard Recommendation Modeling<a class="hash-link" href="#standard-recommendation-modeling" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="Untitled" src="/recohut/assets/images/content-concepts-raw-processes-untitled-37-f7ec1422d1824724cd0409c3c3c72b56.png" width="854" height="424"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="standard-steps">Standard Steps<a class="hash-link" href="#standard-steps" title="Direct link to heading">‚Äã</a></h3><p>Scoping &gt; Data Extraction &gt; <strong>[raw bucket]<!-- --> &gt; Preprocessing &gt; <!-- -->[refined bucket]<!-- --> </strong>&gt; Feature Engineering &gt; <!-- -->[consumption bucket]<!-- --> **&gt; Model Training &gt; Offline Evaluation &gt; Online Evaluation Production Planning &gt; Representation Service &gt; Candidate Generation Service &gt; Inference Service &gt; Business Rule Service &gt; Recommendation Service Dashboard &gt; MLOps.</p><p><img loading="lazy" alt="/img/content-concepts-raw-processes-untitled-38.png" src="/recohut/assets/images/content-concepts-raw-processes-untitled-38-8fe7828a280a11d40f95c72931ef8bb3.png" width="1045" height="285"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="standard-pipeline">Standard Pipeline<a class="hash-link" href="#standard-pipeline" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="/img/content-concepts-raw-processes-untitled-39.png" src="/recohut/assets/images/content-concepts-raw-processes-untitled-39-62731313a8894f83089b53f34bd50966.png" width="2400" height="1083"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="ab-test-framework">A/B Test Framework<a class="hash-link" href="#ab-test-framework" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="/img/content-concepts-raw-processes-untitled-40.png" src="/recohut/assets/images/content-concepts-raw-processes-untitled-40-5ff49e4afc3751a8f04048d54f703bdc.png" width="754" height="381"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="standard-cycle">Standard Cycle<a class="hash-link" href="#standard-cycle" title="Direct link to heading">‚Äã</a></h3><p><img loading="lazy" alt="/img/content-concepts-raw-processes-untitled-41.png" src="/recohut/assets/images/content-concepts-raw-processes-untitled-41-f939ee4fcfd321a95d41ecff2cc13c82.png" width="590" height="420"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="business-project-process">Business Project Process<a class="hash-link" href="#business-project-process" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="discovery-and-analysis-phase">Discovery and Analysis Phase<a class="hash-link" href="#discovery-and-analysis-phase" title="Direct link to heading">‚Äã</a></h3><p>Before the project starts, it is essential to set up business and project objectives. The primary goal of this phase is to conduct a feasibility study.</p><p>The work on every project starts with the analysis. We analyze current metrics, data assets, and customer goals and processes. During that stage, the team defines the growth points, determines the technological stack, timeline and budget, and develops all corresponding documentation.</p><p>At the end of this phase, our business analysts find out whether we should use machine learning or the traditional algorithms to reach customer goals. Finally, we determine the scope of work needed for the prototype or MVP development.</p><p>After all the requirements are gathered, problems and goals are analyzed, the data is digitized, we proceed to the second stage. By the way,¬†<strong>the first project phase we do absolutely for free</strong>.</p><p>We should also note that often our clients request the raw estimation, so we provide the data according to our expertise and completed projects for other clients. Often such estimates are slightly inaccurate because we cannot calculate the risks accurately, what makes the raw assessment more expensive.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="prototype-implementation-phase">Prototype Implementation Phase<a class="hash-link" href="#prototype-implementation-phase" title="Direct link to heading">‚Äã</a></h3><p>During the second phase, we develop the simple prototype of the recommendation engine according to the data gathered during the previous step to prove the hypothesis and show its efficiency. That phase is critical to calculate the final costs of AI-powered recommender development.</p><p>As we already said, the prototype is a business model created to test overall system feasibility and to demonstrate the proof of concept. It can be a text or drawing-based mock-up, or a more complex code-based prototype, depending on the project complexity. Each prototype is shown and discussed with the client.</p><p>Prototyping is a technique which allows us to confirm requirements and design choices. Prototypes are usually fast and cheap to build and easy to mend.</p><p>Before real development begins, it is mandatory to calculate the risks. As the primary requirements are already discussed in the early stage, we can provide a more accurate estimation for the final solution, taking into consideration the risks, software implementation, algorithm tuning, and long or short-term maintenance.</p><p>We are striving to make this step as quick and inexpensive as possible.¬†<strong>The prototype price may vary depending on many factors, but usually, it is under $5.000 for the recommendation engine.</strong></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="minimum-viable-product-mvp-development">Minimum Viable Product (MVP) Development<a class="hash-link" href="#minimum-viable-product-mvp-development" title="Direct link to heading">‚Äã</a></h3><p>From the previous step, it may seem to you that the prototype is the alpha version of the recommendation system, but it is not.</p><p>The main difference between prototype and Minimum Viable Product: prototype proves the concept or idea ‚Äì it is possible to extract insights from the data, and according to that insights generate suggestions and provide recommendations; MVP is an alpha version of a product, that solves the business goal ‚Äì to increase the revenue or turnover.</p><p>MVP works with the client‚Äôs real data and is subjected to a group of real customers as the first version of the solution, collecting the relevant feedback. It is usually much cheaper to develop a Minimum Viable Product than a complex, robust solution.</p><p>We already mentioned in another our article, that one of the most common problems we face during the recommender development is unpredictable performance. We cannot guarantee that the solution we develop will improve the return on investment (ROI) about 256%, but we can make predictions when we already have data after a small period. MVP is perfectly suitable in this situation: it helps us to collect the first data to make accurate predictions.</p><p>Another moment is cost reduction and ROI increase. Usually, the company wants us to develop a recommendation engine software is a young company without strict traditional management, so they are still agile.</p><p>Sometimes, when we present the recommendation system MVP to the customer, we see it solving another business goal, not the goal described in the specification but the most valuable one. Agile software development approach helps us to determine new goals every sprint, so we can continue to improve the existing code that already helps the customer while developing another product to solve the original issue.</p><p>Usually,¬†<strong>the MVP of recommendation engine projects costs vary from $5.000 to $15.000</strong>, according to the number of data to process, and factors the algorithm should take into consideration while generating the suggestions.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="recommender-release-and-deployment">Recommender Release and Deployment<a class="hash-link" href="#recommender-release-and-deployment" title="Direct link to heading">‚Äã</a></h3><p>During the last phase, we do improve the prototype of the recommendation engine to match the clients‚Äô needs and integrate it with the existing infrastructure.</p><p>The final release can be delayed or even postponed according to many different factors. Often our clients choose agile software development and prefer to launch the recommender prototype, improving it over time.</p><p>As we already mentioned, prototype deployment is the best idea if you want to prove the hypothesis, but not the best option if you‚Äôre going to use it as is for an extended period. Sometimes even good-working prototypes lack stability. We usually recommend thinking twice, before prototype deployment.</p><p>Usually, we deploy our solutions to the cloud due to the benefits it provides, but sometimes it happens that our engineers visit customers on-site to set everything up.</p><p><strong>This project phase usually is not expensive, and costs under $5000.</strong>¬†But the final recommendation engine deployment price may vary according to the previous steps and stages.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>more info</h5></div><div class="admonition-content"><p><a href="https://azati.ai/recommendation-system-development-costs/" target="_blank" rel="noopener noreferrer">https://azati.ai/recommendation-system-development-costs</a></p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="customer-lifecycle">Customer Lifecycle<a class="hash-link" href="#customer-lifecycle" title="Direct link to heading">‚Äã</a></h2><ol><li><p>Consumer browses. As in a physical shop, the consumer looks around to see what‚Äôs there, with no specific goal. What‚Äôs noteworthy is where the consumer pauses and shows interest. </p></li><li><p>The consumer becomes interested in one or more products. It might be that the consumer knew from the start that they were looking for something specific or it might be by chance. </p></li><li><p>The consumer adds a product to the basket or a list with the intent to buy.</p></li><li><p>Consumer buys products.</p></li><li><p>Consumer consumes product. For example, the consumer watches the film or the consumer reads the book. If it‚Äôs a trip, the consumer goes on the trip.</p></li><li><p>Consumer rates the product. Sometimes consumers return to the shop/site to rate the product.</p></li><li><p>Consumer resells product or otherwise disposes of it. The consumer lifetime of the product is finished; it‚Äôs disposed of, deleted, or resold; in which case, the product probably goes through the same cycle again.</p><p><img loading="lazy" alt="/img/content-concepts-raw-processes-untitled-42.png" src="/recohut/assets/images/content-concepts-raw-processes-untitled-42-e1d5b109c66961d5a8eff8f2998be29d.png" width="590" height="823"></p></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="how-to-build-a-recommender-system---take-1">How to build a recommender system - Take 1<a class="hash-link" href="#how-to-build-a-recommender-system---take-1" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="outline-a-recommendation-strategy">Outline a recommendation strategy<a class="hash-link" href="#outline-a-recommendation-strategy" title="Direct link to heading">‚Äã</a></h3><p>You can‚Äôt expect anything to go right if you approach it without a strategy. Ask yourself some questions:</p><ol><li>How often do you need to serve the recommended content? Real-time recommendations that take into account the most recent data are nice but more difficult to maintain. On the other hand, batch processing is easier to maintain (and in many cases perfectly sufficient) but does not reflect the recent changes in data.</li><li>How will you handle the cold start problem? When a new customer starts using your platform, what will you recommend to them? The most common approach here is to serve them the most popular and the most recent content. That‚Äôs a good place to start learning what the user is interested in. However, you can also start with a clever onboarding process that will collect some basic information about what the user is interested in. That‚Äôs the case with Netflix, where the first step is to choose some movies and series that you‚Äôve already seen and enjoyed. In the case of e-commerce businesses, you can simply recommend items similar to those they have already displayed.</li><li>Do you want more feed diversity? Recommender systems filter the content and may sometimes filter it too strictly. If a user interacted with one type of content for some time ‚Äì let‚Äôs say they watched 3 thrillers in a row, flooding their feed with thrillers is some idea, but is it a¬†<em>good</em>¬†idea? You can add some layer of randomization, suggesting other items as well to introduce more diversity.</li><li>Do you want to explain the recommendations? Some suggestions are marked as ‚ÄúBecause you watched X‚Äù or ‚ÄúBecause you follow Y‚Äù, or they‚Äôre accompanied by the accuracy rate ‚Äì on Netflix, next to each recommendation, there‚Äôs a certain percentage. It‚Äôs great to be able to show how your system came up with the recommendation, but it‚Äôs not that simple. Many machine learning models are black boxes: after they‚Äôre trained, they generate recommendations but without giving the rationale behind the decisions. The explanation is often not necessary, but if the recommendations are not accurate, users may question the model‚Äôs decisions. There are approaches addressing this issue, but the simplest solution is to state a few rules that are used in generating recommendations. These rules should be understandable to users but not too general like ‚Äúbased on historical data‚Äù. Tell your users how you do it, in simple steps, like: we collect the information about your activity and preferences and compare it to the activity of other users to find similarities; we then use this information to recommend items that users with similar preferences enjoyed. Make sure you are clear about whether you process any personal information.</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="collect-and-organize-relevant-data">Collect and organize relevant data<a class="hash-link" href="#collect-and-organize-relevant-data" title="Direct link to heading">‚Äã</a></h3><p>You cannot have a recommendation engine without data. Whatever type of a recommender system you choose, data is a must. As you collect information, make sure it is organized in some standard form. Having all information in the same form makes it easier to compare user A to other users, or item A to other items. The more relevant data you collect, the better predictions you get. That‚Äôs why some services have very specific sub-categories of products, like Netflix‚Äôs sub-genres.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="identify-similarities">Identify similarities<a class="hash-link" href="#identify-similarities" title="Direct link to heading">‚Äã</a></h3><p>Between users, between products, or both. Compare the users or items to identify patterns. This can be done with the use of clustering algorithms, for example, the k-nearest neighbor (KNN) algorithm that recommends items that are closest to the ones users already liked. It‚Äôs the most intuitive machine learning algorithm ‚Äì because it works similarly to how we give recommendations based on our knowledge of a person.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="track-user-interactions">Track user interactions<a class="hash-link" href="#track-user-interactions" title="Direct link to heading">‚Äã</a></h3><p>The content you serve to users as recommendations is what you assume they will be interested in. With sufficient data, it‚Äôs very probable they actually will enjoy the suggested items, but you can‚Äôt just sit down and relax once the recommendation engine is in place. Track user interactions to assess user engagement and the quality of predictions. If you use systems including likes, upvotes, or ratings, your customers can provide you with feedback that helps further improve the recommendation engine.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="how-to-build-a-recommender-system---take-2">How to build a recommender system - Take 2<a class="hash-link" href="#how-to-build-a-recommender-system---take-2" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="understand-the-business">Understand the business<a class="hash-link" href="#understand-the-business" title="Direct link to heading">‚Äã</a></h3><p>Extremely simple and critical but often overlooked, the first step in building a recommendation system is defining the goals and parameters of the project. This will most definitely involve discussions between and input from both the data team as well as business teams (which might be product managers, operations teams, even partnership or advertising teams, depending on your product).</p><p>Here are some specific topics to consider to understand the business need more deeply and kickstart the discussion between these teams:</p><ul><li><em>What is the end goal of the project?</em> Is the idea to build a recommendation system to directly increase sales / achieve a higher average basket size / reduce browsing time and make a purchase happen faster / reduce the long tail of unconsumed content / improve user engagement time with your product?</li><li><em>Is a recommendation really necessary?</em> This is perhaps an obvious question, but since they can be expensive to build and maintain, it‚Äôs worth asking. Can the business achieve its end goal by driving discovery via a static set of content instead (like staff/editor picks or most popular content)?</li><li><em>At what point will recommendations occur?</em> If recommendations make sense in multiple places (i.e., on a home screen upon first visiting the app or site as well as after purchasing or consuming content), will the same system be used in both places, or are the parameters and needs distinct for each?</li><li><em>What data is available on which to base recommendations?</em> At the time of recommendation, approximately what percentage of users are logged in (in which case there may be much more data available) vs. anonymous (which could complicate things for building the recommendation system)?</li><li><em>Are there product changes that must be made first?</em> If the team wants to build the recommendation system using more robust data, are there product changes that must be made first to identify users earlier (i.e., invite them to log in sooner), and if so, are they reasonable changes from a business perspective?</li><li><em>Should all content or products be treated equally?</em> That is, are there particular products or pieces of content that the business team wants to (or has to) promote aside from organic recommendations?</li><li><em>How can users with similar tastes be segmented?</em> In other words, if employing the model based on user similarity, how will you decide what makes users similar?</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="get-the-data">Get the data<a class="hash-link" href="#get-the-data" title="Direct link to heading">‚Äã</a></h3><p>The best recommendation systems use terabyte(s) of data. So when it comes to rounding up data to use for your recommendation systems, in general, the more the better. This can be difficult if users are unknown when you‚Äôre trying to make a recommendation for them‚Ää‚Äî‚Ääi.e., they‚Äôre not logged in or, even more challenging, they‚Äôre brand new. If you have a business where most users are unknown, you may need to rely on external data sources or general data not explicitly tied to preferences, like demographics, browsing history, etc.</p><p>When it comes to user preferences, there are two kinds of feedback: explicit and implicit.</p><ul><li><strong>Explicit user feedback</strong> is anything that requires user effort, like leaving a review/rating or initiating a complaint or product return (often from customer relationship management, CRM, data).</li><li>By contrast, <strong>implicit user feedback</strong> is information that can be gathered about a user‚Äôs preferences without them actually specifying those preferences. For example, past purchase history, time spent looking at certain offers, products, or content, data from social networks, etc.</li></ul><p>Good recommendation systems usually employ a combination of these types of feedback since there are advantages and disadvantages to each.</p><ul><li>Explicit feedback can be very clear: a user has literally stated their preferences, likes, or dislikes. But by the same token, it‚Äôs inherently biased; a user doesn‚Äôt know what he doesn‚Äôt know (in other words, he might like something but has never tried it and therefore wouldn‚Äôt list it as a preference or interact with that type of item or content normally).</li><li>By contrast, implicit feedback is the opposite ‚Äî it can reveal preferences that a user didn‚Äôt ‚Äî or wouldn‚Äôt ‚Äî otherwise, admit to in a profile (or perhaps their profile information is stale). On the other hand, implicit feedback can be more complicated to interpret; just because a user spent time on a given item doesn‚Äôt mean that (s)he likes it, so it‚Äôs best to rely on a combination of implicit signals to determine preference.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="explore-clean-and-augment-the-data">Explore, clean and augment the data<a class="hash-link" href="#explore-clean-and-augment-the-data" title="Direct link to heading">‚Äã</a></h3><p>One thing to consider when exploring and cleaning your data for a recommendation system, in particular, is changing user tastes. Depending on what you‚Äôre recommending, the older reviews, actions, etc., may not be the most relevant on which to base a recommendation. Consider only looking at features that are more likely to represent the user‚Äôs current tastes and removing older data that might no longer be relevant or adding a weight factor to give more importance to recent actions compared to older ones.</p><p>Datasets for recommendation systems can be challenging to work with because they are commonly high dimensional, but at the same time, it‚Äôs also common that many of the features don‚Äôt have any values, which can make clustering and outlier detection difficult.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="predict-the-ranking">Predict the ranking<a class="hash-link" href="#predict-the-ranking" title="Direct link to heading">‚Äã</a></h3><p>Given the work done in the previous steps, you could have already built a recommendation system, simply by ranking those scores by users and you‚Äôll have products to recommend. This strategy doesn‚Äôt use machine learning or a predictive element, but that‚Äôs totally fine. For some use cases, this is sufficient.</p><p>But if you do want to build something more complex, there are lots of subtasks that can be done after users consume recommended content that can be used to further refine the system. There are several ways to leverage the hybrid approach to try for the highest-quality recommendations:</p><ul><li>Presenting recommendations from different types of systems together side-by-side.</li><li>Maintaining multiple algorithms in parallel where the decision of which algorithm is preferred over another is itself subject to machine learning (e.g., multi-armed bandit).</li><li>Using a pure machine learning approach to combine multiple recommendation systems (logistic regression or other weighted regression methods). One specific example would be using a weighted average of two (or more) recommendations using different techniques.</li></ul><p>It‚Äôs also possible that different models will work better in different parts of the product or website. For example, the homepage where the user has yet to take action vs. after the user has clicked or consumed content in some way.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="visualize-the-data">Visualize the data<a class="hash-link" href="#visualize-the-data" title="Direct link to heading">‚Äã</a></h3><p>In the context of recommendation systems, visualization serves 2 primary purposes:</p><ol><li>When still in the exploration phases, visualizations can help reveal things about the data set or give feedback on model performance that would otherwise be difficult to see.</li><li>After putting the recommendation system in place, visualizations can help convey useful information to the business or product teams (e.g., which content does well but isn‚Äôt being discovered, similarities between users‚Äô tastes, content or products commonly consumed together, etc.) so they can make changes or decisions based on this information.</li></ol><p>The primary issue with visualizing this type of data is the amount of data present, which can make it difficult to cut through the noise in a meaningful way. But by the same token, a good visualization will help make sense out of lots of data from which it would be otherwise difficult to derive meaningful insights.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="iterate-and-deploy-models">Iterate and deploy models<a class="hash-link" href="#iterate-and-deploy-models" title="Direct link to heading">‚Äã</a></h3><p>Recommendation systems that are working in a development environment or sandbox don‚Äôt do any good. It‚Äôs all about putting the system into production so that you can begin to see the effect on the business goals you‚Äôve laid out in the beginning.</p><p>Additionally, keep in mind that the more data you have with which to feed the recommendation system, the better it can become. So with this type of data project perhaps more so than others, it‚Äôs critical to evaluate performance and continue to fine-tune, like adding new data sources to see if they have a positive effect.</p><p>In fact, making sure your recommendation system is built to adapt and evolve by regularly monitoring its performance is one of the most important parts of the process‚Ää‚Äî‚Ääa recommendation system that isn‚Äôt properly adjusting to tastes or new data over time likely will not help you ultimately achieve your initial project goal, even if the system performed well at first. Building a feedback loop to understand whether or not users care about recommendations will be helpful and provide a good metric for making refinements and decisions going forward.</p><p>If recommendations are core to your business, constantly trying new things and evolving the initial model you‚Äôve created will be an ongoing task; recommendation systems are not something you can create and cast aside.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/sparsh-ai/recohut/docs/concept-basics/processes.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/recohut/docs/concept-basics/implicit-feedback"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">User Feedback</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/recohut/docs/concept-basics/session-based-recommenders"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Session-based Recommenders</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#retrieval-and-ranking" class="table-of-contents__link toc-highlight">Retrieval and Ranking</a><ul><li><a href="#retrieval" class="table-of-contents__link toc-highlight">Retrieval</a></li><li><a href="#ranking" class="table-of-contents__link toc-highlight">Ranking</a></li></ul></li><li><a href="#beyond-retrieval-and-ranking" class="table-of-contents__link toc-highlight">Beyond Retrieval and Ranking</a></li><li><a href="#prefiltering-splitting-and-hyperparameter-tuning-process" class="table-of-contents__link toc-highlight">Prefiltering, Splitting and Hyperparameter Tuning Process</a></li><li><a href="#industrial-examples" class="table-of-contents__link toc-highlight">Industrial Examples</a><ul><li><a href="#careerbuilder" class="table-of-contents__link toc-highlight">CareerBuilder</a></li><li><a href="#weibo" class="table-of-contents__link toc-highlight">Weibo</a></li><li><a href="#levis" class="table-of-contents__link toc-highlight">Levis</a></li><li><a href="#brandless" class="table-of-contents__link toc-highlight">Brandless</a></li><li><a href="#alibaba-retrieval" class="table-of-contents__link toc-highlight">Alibaba Retrieval</a></li><li><a href="#alibaba-ranking" class="table-of-contents__link toc-highlight">Alibaba Ranking</a></li><li><a href="#jd" class="table-of-contents__link toc-highlight">JD</a></li><li><a href="#antuit" class="table-of-contents__link toc-highlight">Antuit</a></li></ul></li><li><a href="#tools-and-service-processes" class="table-of-contents__link toc-highlight">Tools and Service Processes</a><ul><li><a href="#merv-personalization-engine-for-model-serving" class="table-of-contents__link toc-highlight">Merv Personalization Engine for Model Serving</a></li><li><a href="#microsoft-recommender-toolkit" class="table-of-contents__link toc-highlight">Microsoft Recommender Toolkit</a></li><li><a href="#openrec" class="table-of-contents__link toc-highlight">OpenRec</a></li><li><a href="#amazon-personalize" class="table-of-contents__link toc-highlight">Amazon Personalize</a></li><li><a href="#azure-personalizer" class="table-of-contents__link toc-highlight">Azure Personalizer</a></li><li><a href="#aws-sagemaker" class="table-of-contents__link toc-highlight">AWS SageMaker</a></li><li><a href="#nvidia-merlin" class="table-of-contents__link toc-highlight">Nvidia Merlin</a></li><li><a href="#google-recommendation" class="table-of-contents__link toc-highlight">Google Recommendation</a></li><li><a href="#recombee" class="table-of-contents__link toc-highlight">Recombee</a></li><li><a href="#azure-cloud" class="table-of-contents__link toc-highlight">Azure Cloud</a></li><li><a href="#abacus" class="table-of-contents__link toc-highlight">Abacus</a></li></ul></li><li><a href="#classical-processes" class="table-of-contents__link toc-highlight">Classical Processes</a><ul><li><a href="#machine-learning-processes" class="table-of-contents__link toc-highlight">Machine Learning Processes</a></li><li><a href="#ecommerce-process" class="table-of-contents__link toc-highlight">eCommerce Process</a></li><li><a href="#ctr-process" class="table-of-contents__link toc-highlight">CTR Process</a></li><li><a href="#real-time-data-capturing-process" class="table-of-contents__link toc-highlight">Real-time Data Capturing Process</a></li><li><a href="#large-scale-pipeline" class="table-of-contents__link toc-highlight">Large-scale Pipeline</a></li><li><a href="#drivetrain-approach" class="table-of-contents__link toc-highlight">Drivetrain Approach</a></li><li><a href="#standard-recommendation-modeling" class="table-of-contents__link toc-highlight">Standard Recommendation Modeling</a></li><li><a href="#standard-steps" class="table-of-contents__link toc-highlight">Standard Steps</a></li><li><a href="#standard-pipeline" class="table-of-contents__link toc-highlight">Standard Pipeline</a></li><li><a href="#ab-test-framework" class="table-of-contents__link toc-highlight">A/B Test Framework</a></li><li><a href="#standard-cycle" class="table-of-contents__link toc-highlight">Standard Cycle</a></li></ul></li><li><a href="#business-project-process" class="table-of-contents__link toc-highlight">Business Project Process</a><ul><li><a href="#discovery-and-analysis-phase" class="table-of-contents__link toc-highlight">Discovery and Analysis Phase</a></li><li><a href="#prototype-implementation-phase" class="table-of-contents__link toc-highlight">Prototype Implementation Phase</a></li><li><a href="#minimum-viable-product-mvp-development" class="table-of-contents__link toc-highlight">Minimum Viable Product (MVP) Development</a></li><li><a href="#recommender-release-and-deployment" class="table-of-contents__link toc-highlight">Recommender Release and Deployment</a></li></ul></li><li><a href="#customer-lifecycle" class="table-of-contents__link toc-highlight">Customer Lifecycle</a></li><li><a href="#how-to-build-a-recommender-system---take-1" class="table-of-contents__link toc-highlight">How to build a recommender system - Take 1</a><ul><li><a href="#outline-a-recommendation-strategy" class="table-of-contents__link toc-highlight">Outline a recommendation strategy</a></li><li><a href="#collect-and-organize-relevant-data" class="table-of-contents__link toc-highlight">Collect and organize relevant data</a></li><li><a href="#identify-similarities" class="table-of-contents__link toc-highlight">Identify similarities</a></li><li><a href="#track-user-interactions" class="table-of-contents__link toc-highlight">Track user interactions</a></li></ul></li><li><a href="#how-to-build-a-recommender-system---take-2" class="table-of-contents__link toc-highlight">How to build a recommender system - Take 2</a><ul><li><a href="#understand-the-business" class="table-of-contents__link toc-highlight">Understand the business</a></li><li><a href="#get-the-data" class="table-of-contents__link toc-highlight">Get the data</a></li><li><a href="#explore-clean-and-augment-the-data" class="table-of-contents__link toc-highlight">Explore, clean and augment the data</a></li><li><a href="#predict-the-ranking" class="table-of-contents__link toc-highlight">Predict the ranking</a></li><li><a href="#visualize-the-data" class="table-of-contents__link toc-highlight">Visualize the data</a></li><li><a href="#iterate-and-deploy-models" class="table-of-contents__link toc-highlight">Iterate and deploy models</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/recohut/docs/intro">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/recohut/docs/concept-basics">Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/recohut/docs/tutorials">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/recohut/docs/projects">Projects</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/recohut/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/sparsh-ai/recohut" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://nb.recohut.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Jupyter Notebooks<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://step.recohut.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Interactive Stories<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 Recohut Docs, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/recohut/assets/js/runtime~main.eaac3c3e.js"></script>
<script src="/recohut/assets/js/main.f428c2c4.js"></script>
</body>
</html>